<!DOCTYPE HTML>
<!--
  This page was scaffolded with Photon by HTML5 UP
  Template created by @ajlkn. Used under a Creative Commons Attribution 3.0 License.
  Link to the original template: https://html5up.net/
  License details:  html5up.net/license
-->
<html>

<head>
	<title>Community Resources</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<script>
	    document.addEventListener('DOMContentLoaded', function() {
	        function getCookie(name) {
	            const value = `; ${document.cookie}`;
	            const parts = value.split(`; ${name}=`);
	            if (parts.length === 2) return parts.pop().split(';').shift();
        }
        document.getElementById('csrfToken').value = getCookie('csrfToken');
    });
</script>
</head>

<body class="is-preload">

	<!-- Header -->
	<section id="header">
		<div class="inner">
			<h1 class="TOSS" id="TOSS"><strong>TOSS</strong></h1>
			<h1 class="TOSS">Temporary Overnight</h1>
			<h1 class="TOSS">Safe Space</h1>
			<div class="partialBorderWrapper">
				<p class="partialBorder"></p>
			</div>
			<h2 id="headerSubHeading">Providing Comfort, Safety, and Hope</h2>
		</div>
	</section>
	</section>

	<!-- One -->
	<section id="one" class="main style1">
		<div class="container">
			<h1 class="resourcesPageH1">
				<strong>
					You have been invited to share feedback with our management team.
				</strong>

			</h1>
			<h2 class="bodyContent">
				Please fill out the form below and press submit to leave your feedback.
			</h2>
			<div class="partialBorderWrapper">
				<p class="partialBorderDark"></p>
			</div>
			<form class="contactForm" id="feedbackForm" method="post" action="YOUR_APPS_SCRIPT_URL" enctype="text/plain">
    <input type="hidden" name="csrfToken" id="csrfToken" value="">
    </form>

<script>
document.getElementById("feedbackForm").addEventListener("submit", function(event) 
{

    // Validation functions
    function isValidEmail(email) 
    {

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        return emailRegex.test(email);
    }

    function isValidPhoneNumber(phone) 
    {

        const phoneRegex = /^[+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;
        
        return phoneRegex.test(phone);
    }

    // Sanitize function
    function sanitize(value) 
    {

        if (typeof value === 'string') 
        {

            return value.replace(/</g, '&lt;').replace(/>/g, '&gt;'); // Basic XSS protection
        }
        
        return value;
    }

    // Get and validate form data
    const name = sanitize(document.getElementById("name").value);
    
    const email = sanitize(document.getElementById("email").value);
    
    const phone = sanitize(document.getElementById("phoneNumber").value);
    
    const comment = sanitize(document.getElementById("comment").value);

    let errorMessage = "";

    if (!isValidEmail(email)) 
    {

        errorMessage = "Please enter a valid email address (e.g., example@domain.com).";
    } 
    else if (!isValidPhoneNumber(phone)) 
    {

        errorMessage = "Please enter a valid phone number (e.g., +1 (123) 456-7890).";
    }

    if (errorMessage) 
    {

        event.preventDefault(); // Prevent form submission
        
        alert(errorMessage); // Use a simple alert
        
        return;
    }
});
</script>
		</div>
	</section>

	<!-- Footer -->
	<section id="footer">
		<ul class="icons">
			<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
			<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
			<li><a href="mailto:info@safesleepalatka.org" class="icon solid alt fa-envelope"><span
						class="label">Email</span></a></li>
		</ul>

	</section>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>
